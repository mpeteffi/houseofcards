CREATE TABLE CANDIDATO
  (
    IdCandidato       INTEGER NOT NULL ,
    Nome              VARCHAR2 (100) NOT NULL ,
    Email             VARCHAR2 (100) NOT NULL ,
    InstituicaoEnsino VARCHAR2 (100) NOT NULL ,
    Curso             VARCHAR2 (100) NOT NULL ,
    PrevisaoFormatura VARCHAR2 (30) NOT NULL ,
    Status            VARCHAR2 (50) NOT NULL
  ) ;
CREATE INDEX CANDIDATO_IDX ON CANDIDATO
  ( IdCandidato ASC
  ) ;
CREATE INDEX EMAIL_IDXv2 ON CANDIDATO
  ( Email ASC
  ) ;
CREATE INDEX STATUS_IDX ON CANDIDATO
  ( Status ASC
  ) ;
CREATE INDEX NOME_IDX ON CANDIDATO
  ( Nome ASC
  ) ;
ALTER TABLE CANDIDATO ADD CONSTRAINT CANDIDATOS_PK PRIMARY KEY ( IdCandidato ) ;
ALTER TABLE CANDIDATO ADD CONSTRAINT CANDIDATO_UN UNIQUE ( Email ) ;


CREATE TABLE DATAHORA
  (
    IdDataHora      INTEGER NOT NULL ,
    Titulo          VARCHAR2 (100) NOT NULL ,
    DataHoraInicial TIMESTAMP NOT NULL ,
    DataHoraFinal   TIMESTAMP NOT NULL,
    Tipo	    VARCHAR2(40) NOT NULL,
    AllDay          NUMBER(1)    NOT NULL
  ) ;
CREATE INDEX DATAHORA_IDX ON DATAHORA
  ( IdDataHora ASC
  ) ;
ALTER TABLE DATAHORA ADD CONSTRAINT DATAHORA_PK PRIMARY KEY ( IdDataHora ) ;


CREATE TABLE ENTREVISTA
  (
    IdEntrevista    INTEGER NOT NULL ,
    DataEntrevista  DATE ,
    ParecerRH       VARCHAR2 (4000) ,
    ParecerTecnico  VARCHAR2 (4000) ,
    ProvaG36        NUMBER (3,1) ,
    ProvaAC         NUMBER (3,1) ,
    ProvaTecnica    NUMBER (3,1) ,
    IdCandidato     INTEGER NOT NULL ,
    IdUsuario       INTEGER NOT NULL ,
    IdDataHora      INTEGER ,
    IdGrupoDeProvas INTEGER
  ) ;
CREATE INDEX ENTREVISTA_IDX ON ENTREVISTA
  ( IdEntrevista ASC
  ) ;
CREATE INDEX ENTREVISTA_CANDIDATO_IDX ON ENTREVISTA
  ( IdCandidato ASC
  ) ;
CREATE INDEX ENTREVISTA_USUARIO_IDX ON ENTREVISTA
  ( IdUsuario ASC
  ) ;
CREATE INDEX ENTREVISTA_IDXv1 ON ENTREVISTA
  ( IdDataHora ASC
  ) ;
CREATE INDEX ENTREVISTA_IDXv2 ON ENTREVISTA
  ( IdGrupoDeProvas ASC
  ) ;
ALTER TABLE ENTREVISTA ADD CONSTRAINT ENTREVISTA_PK PRIMARY KEY ( IdEntrevista ) ;


CREATE TABLE GRUPODEPROVAS
  (
    IdGrupoDeProvas INTEGER NOT NULL ,
    IdDataHora      INTEGER NOT NULL
  ) ;
CREATE INDEX GRUPODEPROVAS_IDX ON GRUPODEPROVAS
  ( IdGrupoDeProvas ASC
  ) ;
CREATE INDEX GRUPODEPROVAS_IDXv1 ON GRUPODEPROVAS
  ( IdDataHora ASC
  ) ;
ALTER TABLE GRUPODEPROVAS ADD CONSTRAINT GRUPODEPROVAS_PK PRIMARY KEY ( IdGrupoDeProvas ) ;


CREATE TABLE INFORMACAO
  (
    IdInformacao       INTEGER NOT NULL ,
    Telefone           VARCHAR2 (20) NOT NULL ,
    DataNascimento     DATE NOT NULL ,
    Cidade             VARCHAR2 (100) NOT NULL ,
    UrlLinkedin        VARCHAR2 (100) NOT NULL ,
    Senha              VARCHAR2 (100) NOT NULL ,
    IdCandidato        INTEGER NOT NULL ,
    IdProcessoSeletivo INTEGER NOT NULL
  ) ;
CREATE INDEX INFORMACAO_IDX ON INFORMACAO
  ( IdInformacao ASC
  ) ;
CREATE INDEX CANDIDATO_IDXv2 ON INFORMACAO
  ( IdCandidato ASC
  ) ;
CREATE INDEX PROCESSOSELETIVO_IDXv1 ON INFORMACAO
  ( IdProcessoSeletivo ASC
  ) ;
CREATE INDEX TELEFONE_IDX ON INFORMACAO
  ( Telefone ASC
  ) ;
ALTER TABLE INFORMACAO ADD CONSTRAINT INTERESSADO_PK PRIMARY KEY ( IdInformacao ) ;
ALTER TABLE INFORMACAO ADD CONSTRAINT INFORMACAO_UN UNIQUE ( IdCandidato , IdProcessoSeletivo ) ;


CREATE TABLE PROCESSOSELETIVO
  (
    IdProcessoSeletivo INTEGER NOT NULL ,
    Edicao             VARCHAR2 (10) NOT NULL ,
    InicioSelecao      DATE NOT NULL ,
    FinalSelecao       DATE NOT NULL ,
    InicioAula         DATE NOT NULL ,
    FinalAula          DATE NOT NULL
  ) ;
CREATE INDEX PROCESSOSELETIVO_IDX ON PROCESSOSELETIVO
  (
    IdProcessoSeletivo ASC
  ) ;
CREATE INDEX EDICAO_IDX ON PROCESSOSELETIVO
  ( Edicao ASC
  ) ;
ALTER TABLE PROCESSOSELETIVO ADD CONSTRAINT PROCESSOSELETIVO_PK PRIMARY KEY ( IdProcessoSeletivo ) ;
ALTER TABLE PROCESSOSELETIVO ADD CONSTRAINT PROCESSOSELETIVO_UN UNIQUE ( Edicao ) ;


CREATE TABLE TOKEN
  (
    IdToken         INTEGER NOT NULL ,
    IdParaConfirmar INTEGER NOT NULL ,
    Token           VARCHAR2 (200) NOT NULL ,
    Status          VARCHAR2 (30) NOT NULL ,
    Tipo            VARCHAR2 (30) NOT NULL
  ) ;
CREATE INDEX IDTOKEN_IDX ON TOKEN
  ( IdToken ASC
  ) ;
CREATE INDEX TOKENSTRING_IDX ON TOKEN
  ( Token ASC
  ) ;
CREATE INDEX STATUS_IDXv1 ON TOKEN
  ( Status ASC
  ) ;
CREATE INDEX TIPO_IDX ON TOKEN
  ( Tipo ASC
  ) ;
ALTER TABLE TOKEN ADD CONSTRAINT TOKEN_PK PRIMARY KEY ( IdToken ) ;
ALTER TABLE TOKEN ADD CONSTRAINT TOKEN_UN UNIQUE ( Token ) ;


CREATE TABLE USUARIO
  (
    IdUsuario INTEGER NOT NULL ,
    Nome      VARCHAR2 (100) NOT NULL ,
    Email     VARCHAR2 (100) NOT NULL ,
    Senha     VARCHAR2 (200) NOT NULL ,
    Imagem    VARCHAR2 (200) NOT NULL
  ) ;
CREATE INDEX USUARIO_IDX ON USUARIO
  ( IdUsuario ASC
  ) ;
CREATE INDEX EMAIL_IDX ON USUARIO
  ( Email ASC
  ) ;
ALTER TABLE USUARIO ADD CONSTRAINT USUARIO_PK PRIMARY KEY ( IdUsuario ) ;
ALTER TABLE USUARIO ADD CONSTRAINT USUARIO_UN UNIQUE ( Email ) ;


ALTER TABLE ENTREVISTA ADD CONSTRAINT CANDIDATOENTREVISTA_FK FOREIGN KEY ( IdCandidato ) REFERENCES CANDIDATO ( IdCandidato ) ;

ALTER TABLE ENTREVISTA ADD CONSTRAINT ENTREVISTA_DATAHORA_FK FOREIGN KEY ( IdDataHora ) REFERENCES DATAHORA ( IdDataHora ) ;

ALTER TABLE ENTREVISTA ADD CONSTRAINT ENTREVISTA_GRUPODEPROVAS_FK FOREIGN KEY ( IdGrupoDeProvas ) REFERENCES GRUPODEPROVAS ( IdGrupoDeProvas ) ;

ALTER TABLE GRUPODEPROVAS ADD CONSTRAINT GRUPODEPROVAS_DATAHORA_FK FOREIGN KEY ( IdDataHora ) REFERENCES DATAHORA ( IdDataHora ) ;

ALTER TABLE INFORMACAO ADD CONSTRAINT INFORMACAO_CANDIDATO_FK FOREIGN KEY ( IdCandidato ) REFERENCES CANDIDATO ( IdCandidato ) ;

ALTER TABLE INFORMACAO ADD CONSTRAINT INFORMACAO_PROCESSOSELETIVO_FK FOREIGN KEY ( IdProcessoSeletivo ) REFERENCES PROCESSOSELETIVO ( IdProcessoSeletivo ) ;

ALTER TABLE ENTREVISTA ADD CONSTRAINT USUARIOENTREVISTA_FK FOREIGN KEY ( IdUsuario ) REFERENCES USUARIO ( IdUsuario ) ;

CREATE SEQUENCE CANDIDATO_IdCandidato_SEQ START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER CANDIDATO_IdCandidato_TRG BEFORE
  INSERT ON CANDIDATO FOR EACH ROW WHEN (NEW.IdCandidato IS NULL) BEGIN :NEW.IdCandidato := CANDIDATO_IdCandidato_SEQ.NEXTVAL;
END;
/

CREATE SEQUENCE DATAHORA_IdDataHora_SEQ START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER DATAHORA_IdDataHora_TRG BEFORE
  INSERT ON DATAHORA FOR EACH ROW WHEN (NEW.IdDataHora IS NULL) BEGIN :NEW.IdDataHora := DATAHORA_IdDataHora_SEQ.NEXTVAL;
END;
/

CREATE SEQUENCE ENTREVISTA_IdEntrevista_SEQ START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER ENTREVISTA_IdEntrevista_TRG BEFORE
  INSERT ON ENTREVISTA FOR EACH ROW WHEN (NEW.IdEntrevista IS NULL) BEGIN :NEW.IdEntrevista := ENTREVISTA_IdEntrevista_SEQ.NEXTVAL;
END;
/

CREATE SEQUENCE GRUPODEPROVAS_IdGrupoDeProvas START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER GRUPODEPROVAS_IdGrupoDeProvas BEFORE
  INSERT ON GRUPODEPROVAS FOR EACH ROW WHEN (NEW.IdGrupoDeProvas IS NULL) BEGIN :NEW.IdGrupoDeProvas := GRUPODEPROVAS_IdGrupoDeProvas.NEXTVAL;
END;
/

CREATE SEQUENCE INFORMACAO_IdInformacao_SEQ START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER INFORMACAO_IdInformacao_TRG BEFORE
  INSERT ON INFORMACAO FOR EACH ROW WHEN (NEW.IdInformacao IS NULL) BEGIN :NEW.IdInformacao := INFORMACAO_IdInformacao_SEQ.NEXTVAL;
END;
/

CREATE SEQUENCE PROCESSOSELETIVO_IdProcessoSel START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER PROCESSOSELETIVO_IdProcessoSel BEFORE
  INSERT ON PROCESSOSELETIVO FOR EACH ROW WHEN (NEW.IdProcessoSeletivo IS NULL) BEGIN :NEW.IdProcessoSeletivo := PROCESSOSELETIVO_IdProcessoSel.NEXTVAL;
END;
/

CREATE SEQUENCE TOKEN_IdToken_SEQ START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER TOKEN_IdToken_TRG BEFORE
  INSERT ON TOKEN FOR EACH ROW WHEN (NEW.IdToken IS NULL) BEGIN :NEW.IdToken := TOKEN_IdToken_SEQ.NEXTVAL;
END;
/

CREATE SEQUENCE USUARIO_IdUsuario_SEQ START WITH 1 NOCACHE ORDER ;
CREATE OR REPLACE TRIGGER USUARIO_IdUsuario_TRG BEFORE
  INSERT ON USUARIO FOR EACH ROW WHEN (NEW.IdUsuario IS NULL) BEGIN :NEW.IdUsuario := USUARIO_IdUsuario_SEQ.NEXTVAL;
END;
/